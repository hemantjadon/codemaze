function getCookie(e){var t=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var c=jQuery.trim(a[n]);if(c.substring(0,e.length+1)==e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}var QuestionBox=React.createClass({displayName:"QuestionBox",getInitialState:function(){return{question:{}}},fetchQuestion:function(){var e=window.location.origin+this.props.url;$.ajax({url:e,dataType:"json",cache:!1,success:function(e){this.setState({question:e}),Prism.highlightAll(),Materialize.updateTextFields()}.bind(this),error:function(e,t,a){console.log(e)}.bind(this)})},answer:function(){var e=function(e){var t=window.location.origin+e.attr("action"),a=e.children("input[type=hidden].id").val(),n=e.children(".input-field").children("input[type=text]#answer").val(),c=e.children("input[type=hidden].csrf").val();$.post({url:t,data:{id:a,ans:n},headers:{"X-CSRF-Token":c},dataType:"json",success:function(e){if(console.log(e),"success"===e.status)window.location.reload();else if("fail"===e.status){var t=$("#content .card .card-action .input-field input#answer");$("#content .card .card-action .input-field label[for=answer]");t.addClass("invalid"),t.removeClass("valid")}},error:function(e,t,a){console.log(e)}.bind(this)})},t=function(){$("#content button.submit-button").click(function(t){t.preventDefault();var a=$(this).parent();e(a)})};t()},componentDidMount:function(){this.fetchQuestion(),this.answer()},render:function(){return React.createElement(Question,{question:this.state.question})}}),Question=React.createClass({displayName:"Question",render:function(){var e=this.props.question,t=function(){if(void 0!==e.content){var t=marked(e.content);return{__html:t}}};return React.createElement("div",{className:"outerBox"},React.createElement("div",{className:"card grey lighten-5"},React.createElement("div",{className:"card-content"},React.createElement("span",{className:"card-title"},React.createElement("h4",null,this.props.question.title)),React.createElement("div",{dangerouslySetInnerHTML:t(),className:"markedBox"})),React.createElement("div",{className:"card-action"},React.createElement(Answer,{qid:this.props.question.id}))))}}),Answer=React.createClass({displayName:"Answer",render:function(){var e=getCookie("csrftoken");return React.createElement("div",{className:"row"},React.createElement("form",{method:"post",action:"/questions/submit/"},React.createElement("input",{type:"hidden",className:"id",value:this.props.qid}),React.createElement("input",{type:"hidden",className:"csrf",value:e}),React.createElement("div",{className:"input-field"},React.createElement("input",{id:"answer",type:"text",className:"validate"}),React.createElement("label",{"data-error":"Oops, this is not correct !!",htmlFor:"answer"},"Answer")),React.createElement("button",{className:"submit-button btn-floating btn-large waves-effect waves-light",type:"submit"},React.createElement("i",{className:"fa fa-chevron-right"}))))}});ReactDOM.render(React.createElement(QuestionBox,{url:"/questions/get/"}),document.getElementById("content"));var LeaderBoard=React.createClass({displayName:"LeaderBoard",getInitialState:function(){return{list:[]}},fetchLeaders:function(){var e=window.location.origin+this.props.url;$.ajax({url:e,dataType:"json",cache:!1,success:function(e){this.setState({list:e})}.bind(this),error:function(e,t,a){console.log(e)}.bind(this)})},componentDidMount:function(){this.fetchLeaders(),setInterval(this.fetchLeaders,12e4)},render:function(){var e=this.state.list.list;return void 0!==e?React.createElement("div",{className:"outerBox"},React.createElement("div",{className:"card grey lighten-5"},React.createElement("div",{className:"card-content"},React.createElement("span",{className:"card-title"},React.createElement("h4",null,"Leader Board"))),React.createElement("div",{className:"card-action"},React.createElement("ul",{className:"collection"},e.map(function(e,t){return React.createElement("li",{className:"collection-item",key:t},t+1,".  ",e)}))))):React.createElement("div",null)}});ReactDOM.render(React.createElement(LeaderBoard,{url:"/questions/leaderboard/"}),document.getElementById("leaderboard"));var Stats=React.createClass({displayName:"Stats",getInitialState:function(){return{stats:{}}},fetchStats:function(){var e=window.location.origin+this.props.url;$.ajax({url:e,dataType:"json",cache:!1,success:function(e){this.setState({stats:e}),console.log(e)}.bind(this),error:function(e,t,a){console.log(e)}.bind(this)})},componentDidMount:function(){this.fetchStats()},render:function(){return stats=this.state.stats,React.createElement("div",{className:"outerBox"},React.createElement("div",{className:"card grey lighten-5"},React.createElement("div",{className:"card-content"},React.createElement("span",{className:"card-title"},React.createElement("h4",null,"Statistics"))),React.createElement("div",{className:"card-action"},React.createElement("ul",{className:"collection"},React.createElement("li",{className:"collection-item attempts"},"Attempts ",React.createElement("span",{className:"right"},stats.attempts)),React.createElement("li",{className:"collection-item success"},"Success ",React.createElement("span",{className:"right"},stats.success)),React.createElement("li",{className:"collection-item fail"},"Failure ",React.createElement("span",{className:"right"},stats.fail)),React.createElement("li",{className:"collection-item accuracy"},"Accuracy ",React.createElement("span",{className:"right"},stats.accuracy,"%"))))))}});ReactDOM.render(React.createElement(Stats,{url:"/questions/stats/"}),document.getElementById("stats")),marked.setOptions({langPrefix:"language-",gfm:!0,breaks:!0,sanitize:!0});